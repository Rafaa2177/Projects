# Funcionamento da aplicação
  make run : corre o programa
  make reset : limpa os ficheiros gerados e atualiza a pasta data com os ficheiros do backup
  make clean : limpa os executaveis e ficheiros objetos

  config.yaml : configuração do programa

  pasta reports : pasta onde se encontra todos os reports sobre os candidatos


# Estrutura da app

O aplicativo será um programa em C que irá monitorar um diretório em busca de novos arquivos e distribuí-los para um número de processos filhos que os tratarão.

**Passos do que foi feito:**

- Criar o arquivo de configuração 
- Manipular o arquivo de configuração
- Verificar (PAI) e tratar os novos arquivos (FILHO)
  - *O diretório a ser monitorado conterá um diretório (already_read) que não será aberto, os arquivos, após serem tratados, serão movidos para esse diretório.*
  - Criar x processos filhos (x é definido no arquivo de configuração)
  - Cada filho tratará um arquivo por vez (se houver arquivos para tratar)
    - Copiar o arquivo para um subdiretório do diretório de saída
    - O subdiretório será nomeado após o processo filho
    - O subdiretório será criado se não existir
    - O subdiretório conterá os arquivos que foram copiados
    - Os arquivos serão movidos para o diretório already_read
  
  - A cada iteração de x filhos será criado um report file onde conterá informação de todos os candidatos que fora tratados

    - Os dados serão:
      - Caminho para o diretório do candidato
      - JobOpeningId
      - Email
      - Firstname
      - Lastname
      - Phone number
      - O relatório é identificado por um carimbo de data e hora

Processo filho que monitora o diretório de entrada:

	Se um novo arquivo for adicionado, o filho atraves de um sinal avisa o pai sobre isso.

O pai distribui os arquivos para os filhos

Os filhos tratam dos arquivos até que não existam mais, copiando-os para o subdiretório designado do diretório de saída

Ps:

	Era suposto os filhos quando terminam de tratar de um candidato recebe-se outro, mas não foi possível implementar essa funcionalidade, então neste momento o filho morre e é criado outro.


### Customer Specifications and Clarifications

* Question : Q64 Micael – US2001 - Bot restarts, duplicate files and final report. I would like to know what is the expected behaviour when the Application File Bot is restarted. Since the requirements state that files should be copied and not moved, the bot must know which files may have been already copied during previous runs of the program. Should the bot, on startup, check if the existing files were already copied to the shared folder, should the files be moved instead of copied or any other solution? If you have no specific requirements for this case, only that the system is kept in a consistent state, I'd like to know what is the expected behaviour when the bot finds duplicate files. I'd also like to know if the file prefix generated by the Application Email Bot is guaranteed to be numeric and unique throughout the whole software solution lifecycle. One more question, regarding how the report system works. Should the bot create a report each time new files are found and moved to the shared folder, meaning that there are multiple reports simultaneously (for instance, identified via date and time in the file name), or should it be a single file to which new data is appended?
    * Answer : A64. A lot of questions for “a single question”. As stated in your question, the system should be kept in a consistent state. Regarding duplicate files, there should not be any duplicate files (why would duplicate files exist?). Regarding the report, there can be multiple report files, each one uniquely identified by some sort of timestamp. 

* Question : Q67 Ricardo – US2001 - Número de Ficheiros. Em relação ao EmailFileBot, previamente respondeu que "Todos ao outros ficheiros com o mesmo prefixo devem ser considerados anexos", existe um número máximo/válido de ficheiros permitidos como anexos? Ou não controlamos o número de ficheiros submetidos por candidatura? Exemplo: CV, Email, Candidate-data e x opcionais?
    * Answer : A67. Não está definido um número máximo, mas podem estabelecer um limite a configurar, por exemplo, num ficheiro de configuração contendo um limite em tamanho (Mb) ou em número de anexos. 

* Question : Q82 Leite –  US2001 – Que tipo de informação irá conter o report feito pelo Application File Bot? Sendo que este report vai ser acerca de múltiplas candidaturas, com que periodicidade deverá este ser criado?
    * Answer : A82. See Q64. I am not a technical person, but I should say that the report should include information that is enough for diagnosing problems in the import. I think some form of configuration of detail to be reported should be interesting, like what is usually available for log files, with a default  rule for maximum detail.

* Question : Q93 Varela – [2001] Running Configurations – Gostaríamos de esclarecimentos relativamente ao método de seleção de parâmetros para a execução da aplicação. No documento de auxílio desta funcionalidade, é-nos informado que esta configuração pode ser feita através de um ficheiro de configuração ou através de input direto aquando a execução da aplicação através da linha de comandos. A nossa questão é: dá-se a escolher à priori a maneira como a configuração é feita (configuration file ou input), ou o grupo decide que método irá ser utilizado para a aplicação em desenvolvimento?
    * Answer : A93. Penso que o documento que refere não é do documento principal de especificação do sistema, será um documento complementar com especificação especifica de uma unidade curricular. Sendo assim, penso que devem esclarecer a questão noutra fonte. Mas, sem querer condicionar a reposta “oficial” (que não é esta), penso que seja uma opção, e que cada solução pode considerar qual a que segue.

* Question : Q94 Varela – [2001] - Ficheiros novos e velhos – Relativamente à funcionalidade de us2001, os ficheiros gerados pelo Application Email Bot, são colocados num diretório, sendo depois processados pelo File Bot. Após um ficheiro ser processado pelo File Bot, este pode ser eliminado do diretório utilizado pelo Email Bot para guardar os ficheiros, uma vez que estes já se encontram organizados num shared folder?
    * Answer : A94. Ver Q64. Como product owner não tenho requisitos especificos sobre esse aspeto. Espero apenas que o Sistema mantenha sempre a integridade dos dados estes não sejam “perdidos”.