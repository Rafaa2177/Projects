@startuml
skinparam monochrome true
skinparam packageStyle rectangle
skinparam shadowing false

title Sequence Diagram (SD)

actor "Customer Manager" as CM
participant ":ListJobApplicationUI" as JA
participant ":ListJobApplicationController" as JAC
participant ":PersistencyContext" as PC
participant ":AppSettings" as AS
participant ":RepositoryFactory" as RF
participant ":JobOpeningRepository" as JOR
participant ":JobApplicationRepository" as JAR


activate CM

    CM --> JA : show()
    activate JA

    JA -> JAC : create()
    activate JAC

    JAC -> PC : repositories()
    activate PC

    PC -> AS :  getRepositoryFactory()
    activate AS

    AS -> RF : create()

    AS -> PC
    deactivate AS

    PC -> JAC
    deactivate PC

    JAC -> RF : jobopenings()
    activate RF

    RF -> JOR : create()

    RF -> JAC : jobOpeningRepository
    deactivate RF

    JAC -> RF : jobapplications()
    activate RF

    RF -> JAR : create()

    RF -> JAC : jobApplicationRepository
    deactivate RF

    JAC -> JA
    deactivate JAC

    JA -> JA : doShow()

    JA -> JAC : listJobOpenings()
    activate JAC

    JAC -> JOR : findAll()
    activate JOR

    JOR -> JAC : jobopenings
    deactivate JOR

    JAC -> JA : jobopenings
    deactivate JAC

    JA --> CM : displays job openings and requests to select one

    CM --> JA : selects one

    JA -> JAC : listJobApplicationsByJO(jobReference)
    activate JAC

    JAC -> JAR : findByJobOpening(jobReference)
    activate JAR

    JAR -> JAC : jobapplications
    deactivate JAR

    JAC -> JA : jobapplications
    deactivate JAC

    JA --> CM : displays job applications
    deactivate JA

deactivate CM

@enduml